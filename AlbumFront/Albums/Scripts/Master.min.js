function Master(n,t){this._ID=n;this._ctlControlledContainerID=t;this.submit_old=null;this.onsubmit_old=null;this.submitHandlerPtr=null;this.scx=this.scy=null;this.scw=this.sch=null;this.eventHandlers=[]}Master.prototype.hookEvent=function(n,t,i,r){var u=new MemberHandlerData(n,t,i,r);return this.eventHandlers.push(u),u};Master.prototype.handsoff=function(){if(this.eventHandlers!=null)for(var n=0;n<this.eventHandlers.length;++n)this.eventHandlers[n].destroy();this.eventHandlers=[]};Master.prototype.objRef=function(){return document.getElementById(this._ID)};Master.prototype.init=function(){var n=this.objRef(),i,t;n.awsFrameMapRuntime.isNavTreeShown=n.awsFrameMapRuntime.isNavTreeShown=="true"?!0:!1;updateHidden(n.awsFrameMapRuntime.hiddenIsNavTreeShown,n.awsFrameMapRuntime.isNavTreeShown);i=document.getElementById(n.awsFrameMap.btnHideTree);this.hookEvent(i,"onclick",this,"onShowHideNavTree");this.hookEvent(document,"onkeyup",this,"onKeyPress");this.scx=parseInt(document.getElementById(n.awsFrameMapRuntime.hiddenScx).value);this.scy=parseInt(document.getElementById(n.awsFrameMapRuntime.hiddenScy).value);this.scw=parseInt(document.getElementById(n.awsFrameMapRuntime.hiddenScw).value);this.sch=parseInt(document.getElementById(n.awsFrameMapRuntime.hiddenSch).value);this.applyScroll();t=document.getElementById(n.awsFrameMapRuntime.formID);this.submit_old=t.submit;t.submit=new CMemberAdapter(this,"preSubmit").adapterThunk;this.submitHandlerPtr=new CMemberAdapter(this,"onPreSubmit").adapterThunk;this.onsubmit_old=t.onsubmit;t.onsubmit=this.submitHandlerPtr};Master.prototype.preSubmit=function(){try{this.alterVieweState()}catch(i){}if(this.submit_old!=null&&typeof this.submit_old!="undefined"){var t=this.objRef(),n=document.getElementById(t.awsFrameMapRuntime.formID);return n.submit=this.submit_old,n.submit()}return!0};Master.prototype.onPreSubmit=function(){try{this.alterVieweState()}catch(i){}if(this.onsubmit_old!=null&&typeof this.onsubmit_old!="undefined"){var t=this.objRef(),n=document.getElementById(t.awsFrameMapRuntime.formID);return n.onsubmit=this.onsubmit_old,n.onsubmit()}return!0};Master.prototype.alterVieweState=function(){var n=this.objRef();this.readScroll();document.getElementById(n.awsFrameMapRuntime.hiddenScx).value=this.scx.toString();document.getElementById(n.awsFrameMapRuntime.hiddenScy).value=this.scy.toString();document.getElementById(n.awsFrameMapRuntime.hiddenScw).value=this.scw.toString();document.getElementById(n.awsFrameMapRuntime.hiddenSch).value=this.sch.toString()};Master.prototype.applyScroll=function(){var t=this.objRef(),n=document.getElementById(t.awsFrameMapRuntime.treeContId);this.scx=this.correctScroll(this.scx,this.scw,n.scrollWidth,n.clientWidth);n.scrollLeft=this.scx;this.scy=this.correctScroll(this.scy,this.sch,n.scrollHeight,n.clientHeight);n.scrollTop=this.scy};Master.prototype.correctScroll=function(n,t,i,r){return t==0||i==0?n:Math.min(n,i-r)};Master.prototype.readScroll=function(){var t=this.objRef(),n=document.getElementById(t.awsFrameMapRuntime.treeContId);this.scx=n.scrollLeft;this.scy=n.scrollTop;this.scw=n.scrollWidth;this.sch=n.scrollHeight};Master.prototype.onKeyPress=function(n){var i=this.objRef(),t,r=n.keyCode||n.charCode,u=function(){return jQuery(".jquery-lightbox-overlay").is(":visible")};return r!=37||u()?r!=39||u()||(t=document.getElementById(i.awsFrameMap.btnNext)):t=document.getElementById(i.awsFrameMap.btnPrev),t&&t.disabled==!1&&t.click(),!1};Master.prototype.onShowHideNavTree=function(){var n=this.objRef();n.awsFrameMapRuntime.isNavTreeShown=!n.awsFrameMapRuntime.isNavTreeShown;updateHidden(n.awsFrameMapRuntime.hiddenIsNavTreeShown,n.awsFrameMapRuntime.isNavTreeShown);this.applyNavTreeState()};Master.prototype.applyNavTreeState=function(){var t=this.objRef(),n=document.getElementById(this._ctlControlledContainerID);t.awsFrameMapRuntime.isNavTreeShown==!1?(n.style.display="none",n.style.visibility="hidden"):(n.style.display="block",n.style.visibility="visible")};